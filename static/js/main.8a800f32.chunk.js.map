{"version":3,"sources":["components/Header.js","components/Footer.js","components/Note.js","components/App.js","index.js"],"names":["Header","className","Footer","year","Date","getFullYear","Note","props","title","content","onClick","onEdit","id","onDelete","API_URL","App","React","useState","note","setNote","notes","setNotes","currentId","setCurrentId","isExpanded","setExpanded","useEffect","fetch","then","res","json","currentNote","find","_id","clear","handleChange","event","target","name","value","prevNote","deleteNote","axios","delete","console","log","data","prevNotes","filter","noteItem","editNote","clearField","e","keyCode","window","addEventListener","removeEventListener","onChange","placeholder","rows","Zoom","in","Fab","post","patch","catch","err","preventDefault","map","index","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8a800f32.chunk.js","sourcesContent":["import React from \"react\";\n\n\nfunction Header() {\n  return (\n    <header>\n      <h1 className='header'>\n        Keeper\n      </h1>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction Footer() {\n  const year = new Date().getFullYear();\n  return (\n    <footer>\n      <p>Copyright Mushroom â“’ {year}</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nfunction Note(props) {\n\n\n\n\n  return (\n    <div className=\"note\">\n      <h1 className='title'>{props.title}</h1>\n      <p>{props.content}</p>\n      <div className='note-icon'>\n      <button className='icon' onClick={()=>props.onEdit(props.id)}><EditIcon /></button>\n      <button className='icon' onClick={()=>props.onDelete(props.id)}><DeleteIcon /></button>\n      </div>\n    </div>\n  );\n}\nexport default Note;\n","import React from \"react\";\nimport Header from './Header';\nimport Footer from './Footer';\nimport Note from \"./Note\";\nimport axios from 'axios';\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Zoom from \"@material-ui/core/Zoom\";\n\nconst API_URL= 'https://keeper-app-db.herokuapp.com/api/notes'\nfunction App() {\n  const[note, setNote] =React.useState({title:'',content:''})\n  const [notes, setNotes] = React.useState([]);\n  const [currentId, setCurrentId]  = React.useState(0);\n  const [isExpanded, setExpanded] = React.useState(false);\n\n  React.useEffect(() =>{\n    fetch(API_URL)\n    .then(res=> res.json())\n    .then(notes =>setNotes(notes))\n  },[notes])\n\n  React.useEffect(()=> {\n    let currentNote  = currentId !== 0 ?  notes.find(note  => note._id ===  currentId)\n    : {title:'',content:''}\n    setNote(currentNote)\n  },[currentId])\n\n  const clear = () =>{\n    setCurrentId(0);\n    setNote({title:\"\",content:\"\"})\n  }\n  React.useEffect(() => {\n     const clearField = (e) => {\n       if(e.keyCode === 27){\n         clear()\n       }\n     }\n     window.addEventListener('keydown', clearField)\n   return () => window.removeEventListener('keydown', clearField)\n },[])\n\n  function handleChange(event) {\n    const { name, value } = event.target;\n\n    setNote(prevNote => {\n      return {\n        ...prevNote,\n        [name]: value\n      };\n    });\n  }\n\n  function submitNote(event) {\n    const data= {\n      title:note.title,\n      content:note.content\n    }\n    if (currentId === 0) {\n      axios.post(API_URL,data)\n            .then(setNotes(prevNotes => {\n              return [...prevNotes, data];\n            }))\n      clear();\n\n    } else {\n      axios.patch(API_URL +`/${currentId}`,data)\n            .then(res => console.log ('Data updated!'))\n            .catch(err => console.log('Error: '+ err))\n      clear();\n    }\n\n\n    event.preventDefault();\n  }\n\n  function deleteNote(id) {\n    axios.delete(\n      API_URL +`/${id}`\n    ).then(res => console.log(res.data))\n    setNotes(prevNotes => {\n      return prevNotes.filter(noteItem => {\n        return noteItem.id !== id;\n      });\n    });\n  }\n\n  function editNote(id) {\n    setCurrentId(id)\n  }\n\n  function expand(){\n    setExpanded(true)\n  }\n\n  return (\n    <div>\n      <Header />\n        <div className='main'>\n          <form className=\"create-note\">\n            {isExpanded &&\n              (<input\n                name=\"title\"\n                onChange={handleChange}\n                value={note.title}\n                placeholder=\"Title\"\n              />)\n            }\n\n\n            <textarea\n              name=\"content\"\n              onClick={expand}\n              onChange={handleChange}\n              value={note.content}\n              placeholder=\"Take a note...\"\n              rows= {isExpanded? 3: 1}\n            />\n\n            <Zoom in={isExpanded}>\n                  <Fab onClick={submitNote}>\n                    <AddIcon />\n                  </Fab>\n            </Zoom>\n\n          </form>\n\n      {notes.map((noteItem, index) => {\n        return (\n          <Note\n            key={index}\n            id={noteItem._id}\n            title={noteItem.title}\n            content={noteItem.content}\n            onDelete={deleteNote}\n            onEdit={editNote}\n          />\n        );\n      })}\n      </div>\n    <Footer />\n    </div>\n  );\n}\n\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}